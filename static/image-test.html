<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›¾ç‰‡è·¯å¾„æµ‹è¯•</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-8">
    <div class="max-w-4xl mx-auto bg-white p-6 rounded-lg shadow">
        <h1 class="text-2xl font-bold mb-4">å›¾ç‰‡è·¯å¾„æµ‹è¯•</h1>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- æµ‹è¯•åŸå§‹è·¯å¾„ -->
            <div class="border p-4 rounded">
                <h3 class="font-semibold mb-2">åŸå§‹ç›¸å¯¹è·¯å¾„æµ‹è¯•</h3>
                <p class="text-sm text-gray-600 mb-2">è·¯å¾„: _page_2_Figure_4.jpeg</p>
                <img src="/docs/74HC165D/_page_2_Figure_4.jpeg" 
                     alt="æµ‹è¯•å›¾ç‰‡" 
                     class="max-w-full h-auto border rounded"
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block'">
                <div style="display:none" class="text-red-500 text-sm">âŒ å›¾ç‰‡åŠ è½½å¤±è´¥</div>
            </div>

            <!-- æµ‹è¯•åŠŸèƒ½æ¡†å›¾ -->
            <div class="border p-4 rounded">
                <h3 class="font-semibold mb-2">åŠŸèƒ½æ¡†å›¾æµ‹è¯•</h3>
                <p class="text-sm text-gray-600 mb-2">è·¯å¾„: _page_1_Figure_6.jpeg</p>
                <img src="/docs/74HC165D/_page_1_Figure_6.jpeg" 
                     alt="åŠŸèƒ½æ¡†å›¾" 
                     class="max-w-full h-auto border rounded"
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block'">
                <div style="display:none" class="text-red-500 text-sm">âŒ å›¾ç‰‡åŠ è½½å¤±è´¥</div>
            </div>

            <!-- æµ‹è¯•åº”ç”¨ç”µè·¯å›¾ -->
            <div class="border p-4 rounded">
                <h3 class="font-semibold mb-2">åº”ç”¨ç”µè·¯å›¾æµ‹è¯•</h3>
                <p class="text-sm text-gray-600 mb-2">è·¯å¾„: _page_10_Figure_3.jpeg</p>
                <img src="/docs/74HC165D/_page_10_Figure_3.jpeg" 
                     alt="åº”ç”¨ç”µè·¯å›¾" 
                     class="max-w-full h-auto border rounded"
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block'">
                <div style="display:none" class="text-red-500 text-sm">âŒ å›¾ç‰‡åŠ è½½å¤±è´¥</div>
            </div>

            <!-- æµ‹è¯•å°è£…å›¾ -->
            <div class="border p-4 rounded">
                <h3 class="font-semibold mb-2">å°è£…å›¾æµ‹è¯•</h3>
                <p class="text-sm text-gray-600 mb-2">è·¯å¾„: _page_12_Figure_4.jpeg</p>
                <img src="/docs/74HC165D/_page_12_Figure_4.jpeg" 
                     alt="å°è£…å›¾" 
                     class="max-w-full h-auto border rounded"
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block'">
                <div style="display:none" class="text-red-500 text-sm">âŒ å›¾ç‰‡åŠ è½½å¤±è´¥</div>
            </div>
        </div>

        <div class="mt-6 p-4 bg-blue-50 rounded">
            <h3 class="font-semibold mb-2">Markdown è·¯å¾„è½¬æ¢æµ‹è¯•</h3>
            <button onclick="testMarkdownConversion()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                æµ‹è¯• Markdown å›¾ç‰‡è½¬æ¢
            </button>
            <div id="markdown-result" class="mt-4"></div>
        </div>
    </div>

    <script>
        function testMarkdownConversion() {
            // ä»ä½ çš„å®é™… markdownToHtml å‡½æ•°å¤åˆ¶çš„å›¾ç‰‡å¤„ç†éƒ¨åˆ†
            const testMarkdown = `
è¿™æ˜¯å¼•è„šé…ç½®å›¾ï¼š![](_page_2_Figure_4.jpeg)

åŠŸèƒ½æ¡†å›¾å¦‚ä¸‹ï¼š![](_page_1_Figure_6.jpeg)

åº”ç”¨ç”µè·¯ï¼š![](_page_10_Figure_3.jpeg)
            `;

            const result = testMarkdown.replace(/!\[\]\(([^)]+)\)/g, function(match, src) {
                // Handle relative paths - convert to absolute paths for web access
                let imageSrc = src;
                if (!src.startsWith('http') && !src.startsWith('/')) {
                    // For relative paths like "_page_2_Figure_4.jpeg", assume they're in docs/74HC165D/
                    if (src.startsWith('_page_')) {
                        imageSrc = `/docs/74HC165D/${src}`;
                    } else {
                        imageSrc = `/docs/${src}`;
                    }
                }
                const filename = src.split('/').pop() || src;
                return `<div class="my-6 text-center p-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300">
                    <img src="${imageSrc}" alt="å‚è€ƒå›¾ç‰‡" class="max-w-full h-auto mx-auto rounded-lg shadow-md border border-gray-200" style="max-height: 500px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block'"/>
                    <div style="display:none" class="text-red-500 text-sm mt-2 p-2 bg-red-50 rounded">
                        ğŸ–¼ï¸ å›¾ç‰‡åŠ è½½å¤±è´¥: ${imageSrc}
                        <br><span class="text-xs">è¯·æ£€æŸ¥å›¾ç‰‡è·¯å¾„æ˜¯å¦æ­£ç¡®</span>
                    </div>
                    <p class="text-sm text-gray-600 mt-3 font-medium">ğŸ“· ${filename}</p>
                </div>`;
            });

            document.getElementById('markdown-result').innerHTML = result;
        }
    </script>
</body>
</html>
